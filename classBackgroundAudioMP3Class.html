<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BackgroundAudio: BackgroundAudioMP3Class&lt; DataBuffer &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">BackgroundAudio<span id="projectnumber">&#160;1.4.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classBackgroundAudioMP3Class-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">BackgroundAudioMP3Class&lt; DataBuffer &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Interrupt-driven MP3 decoder. Generates a full frame of samples each cycle and uses the RawBuffer to safely hand data from the app to the decompressor.  
 <a href="classBackgroundAudioMP3Class.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="BackgroundAudioMP3_8h_source.html">BackgroundAudioMP3.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a36b57681f26747f23b26aeed38557ad7" id="r_a36b57681f26747f23b26aeed38557ad7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBackgroundAudioMP3Class.html#a36b57681f26747f23b26aeed38557ad7">BackgroundAudioMP3Class</a> (AudioOutputBase &amp;d)</td></tr>
<tr class="memdesc:a36b57681f26747f23b26aeed38557ad7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct an MP3 output device using the specified physical audio output.  <br /></td></tr>
<tr class="separator:a36b57681f26747f23b26aeed38557ad7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d3549c9cf6a6130d8ab04826726aefa" id="r_a6d3549c9cf6a6130d8ab04826726aefa"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBackgroundAudioMP3Class.html#a6d3549c9cf6a6130d8ab04826726aefa">setDevice</a> (AudioOutputBase *d)</td></tr>
<tr class="memdesc:a6d3549c9cf6a6130d8ab04826726aefa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set an output device before <code>begin</code>  <br /></td></tr>
<tr class="separator:a6d3549c9cf6a6130d8ab04826726aefa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48251e99cd71b92fbf19e07102f9105d" id="r_a48251e99cd71b92fbf19e07102f9105d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBackgroundAudioMP3Class.html#a48251e99cd71b92fbf19e07102f9105d">setGain</a> (float scale)</td></tr>
<tr class="memdesc:a48251e99cd71b92fbf19e07102f9105d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the gain multiplier (volume) for the stream. Takes effect immediately.  <br /></td></tr>
<tr class="separator:a48251e99cd71b92fbf19e07102f9105d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a729ef804f54ac4b13bb9b154cfc8bcbc" id="r_a729ef804f54ac4b13bb9b154cfc8bcbc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBackgroundAudioMP3Class.html#a729ef804f54ac4b13bb9b154cfc8bcbc">begin</a> ()</td></tr>
<tr class="memdesc:a729ef804f54ac4b13bb9b154cfc8bcbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the background MP3 decoder/player. Will initialize the output device and start sending silence immediately.  <br /></td></tr>
<tr class="separator:a729ef804f54ac4b13bb9b154cfc8bcbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bb4e260bd887771dd01378b0ee85258" id="r_a2bb4e260bd887771dd01378b0ee85258"><td class="memItemLeft" align="right" valign="top"><a id="a2bb4e260bd887771dd01378b0ee85258" name="a2bb4e260bd887771dd01378b0ee85258"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>end</b> ()</td></tr>
<tr class="memdesc:a2bb4e260bd887771dd01378b0ee85258"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the MP3 decoder process and the calls the output device's end to shut it down, too. <br /></td></tr>
<tr class="separator:a2bb4e260bd887771dd01378b0ee85258"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0522b8f3cf21288759553056f1c16ae" id="r_ab0522b8f3cf21288759553056f1c16ae"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBackgroundAudioMP3Class.html#ab0522b8f3cf21288759553056f1c16ae">playing</a> ()</td></tr>
<tr class="memdesc:ab0522b8f3cf21288759553056f1c16ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines if the MP3 decoder has been started.  <br /></td></tr>
<tr class="separator:ab0522b8f3cf21288759553056f1c16ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98a05ec8be86ce4a257766b3e2bd82c4" id="r_a98a05ec8be86ce4a257766b3e2bd82c4"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBackgroundAudioMP3Class.html#a98a05ec8be86ce4a257766b3e2bd82c4">write</a> (const void *data, size_t len)</td></tr>
<tr class="memdesc:a98a05ec8be86ce4a257766b3e2bd82c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a block of raw data to the decoder's buffer.  <br /></td></tr>
<tr class="separator:a98a05ec8be86ce4a257766b3e2bd82c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15d57551d4cc68b7a2df8bddb8be9b19" id="r_a15d57551d4cc68b7a2df8bddb8be9b19"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBackgroundAudioMP3Class.html#a15d57551d4cc68b7a2df8bddb8be9b19">availableForWrite</a> ()</td></tr>
<tr class="memdesc:a15d57551d4cc68b7a2df8bddb8be9b19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets number of bytes available to write to raw buffer.  <br /></td></tr>
<tr class="separator:a15d57551d4cc68b7a2df8bddb8be9b19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83d9111a763708b1085746f926114c78" id="r_a83d9111a763708b1085746f926114c78"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBackgroundAudioMP3Class.html#a83d9111a763708b1085746f926114c78">available</a> ()</td></tr>
<tr class="memdesc:a83d9111a763708b1085746f926114c78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets number of bytes already in the raw buffer.  <br /></td></tr>
<tr class="separator:a83d9111a763708b1085746f926114c78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a586ef017264cf9d372096af40377dde5" id="r_a586ef017264cf9d372096af40377dde5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBackgroundAudioMP3Class.html#a586ef017264cf9d372096af40377dde5">done</a> ()</td></tr>
<tr class="memdesc:a586ef017264cf9d372096af40377dde5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if no more MP3 file is present in the buffer.  <br /></td></tr>
<tr class="separator:a586ef017264cf9d372096af40377dde5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4af720477afb36e7d67b806abc54d24" id="r_ab4af720477afb36e7d67b806abc54d24"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBackgroundAudioMP3Class.html#ab4af720477afb36e7d67b806abc54d24">frames</a> ()</td></tr>
<tr class="memdesc:ab4af720477afb36e7d67b806abc54d24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get number of "frames" (1152 stereo samples) processed by decoder.  <br /></td></tr>
<tr class="separator:ab4af720477afb36e7d67b806abc54d24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47fdbad175b575b16051d38d30969172" id="r_a47fdbad175b575b16051d38d30969172"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBackgroundAudioMP3Class.html#a47fdbad175b575b16051d38d30969172">shifts</a> ()</td></tr>
<tr class="memdesc:a47fdbad175b575b16051d38d30969172"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of input data shifts processed by decoder since <code>begin</code>  <br /></td></tr>
<tr class="separator:a47fdbad175b575b16051d38d30969172"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a183a9b56c823f99b6f03c503c8894d21" id="r_a183a9b56c823f99b6f03c503c8894d21"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBackgroundAudioMP3Class.html#a183a9b56c823f99b6f03c503c8894d21">underflows</a> ()</td></tr>
<tr class="memdesc:a183a9b56c823f99b6f03c503c8894d21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of times the MP3 decoder has underflowed waiting on raw data since <code>begin</code>  <br /></td></tr>
<tr class="separator:a183a9b56c823f99b6f03c503c8894d21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87c8518f1fddb33bd1e8253cef9a36ff" id="r_a87c8518f1fddb33bd1e8253cef9a36ff"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBackgroundAudioMP3Class.html#a87c8518f1fddb33bd1e8253cef9a36ff">errors</a> ()</td></tr>
<tr class="memdesc:a87c8518f1fddb33bd1e8253cef9a36ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of decoder errors since <code>begin</code>  <br /></td></tr>
<tr class="separator:a87c8518f1fddb33bd1e8253cef9a36ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b0d2bc456c487cbf9493ad458453c44" id="r_a2b0d2bc456c487cbf9493ad458453c44"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBackgroundAudioMP3Class.html#a2b0d2bc456c487cbf9493ad458453c44">dumps</a> ()</td></tr>
<tr class="memdesc:a2b0d2bc456c487cbf9493ad458453c44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of full buffer dumps (catastrophic data error) since <code>begin</code>  <br /></td></tr>
<tr class="separator:a2b0d2bc456c487cbf9493ad458453c44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa21375d71ffc80d7ed83d298f0f3940" id="r_aaa21375d71ffc80d7ed83d298f0f3940"><td class="memItemLeft" align="right" valign="top"><a id="aaa21375d71ffc80d7ed83d298f0f3940" name="aaa21375d71ffc80d7ed83d298f0f3940"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>pause</b> ()</td></tr>
<tr class="memdesc:aaa21375d71ffc80d7ed83d298f0f3940"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pause the decoder. Won't process raw input data and will transmit silence. <br /></td></tr>
<tr class="separator:aaa21375d71ffc80d7ed83d298f0f3940"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8da3e8842a6567b039988dbe4d7a604" id="r_ae8da3e8842a6567b039988dbe4d7a604"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBackgroundAudioMP3Class.html#ae8da3e8842a6567b039988dbe4d7a604">paused</a> ()</td></tr>
<tr class="memdesc:ae8da3e8842a6567b039988dbe4d7a604"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if the playback is paused.  <br /></td></tr>
<tr class="separator:ae8da3e8842a6567b039988dbe4d7a604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5df03b842ccdc49d51dc470bcc621423" id="r_a5df03b842ccdc49d51dc470bcc621423"><td class="memItemLeft" align="right" valign="top"><a id="a5df03b842ccdc49d51dc470bcc621423" name="a5df03b842ccdc49d51dc470bcc621423"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>unpause</b> ()</td></tr>
<tr class="memdesc:a5df03b842ccdc49d51dc470bcc621423"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unpause previously paused playback. Will start processing input data again. <br /></td></tr>
<tr class="separator:a5df03b842ccdc49d51dc470bcc621423"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39c1360fd89991092b46d1405012daaf" id="r_a39c1360fd89991092b46d1405012daaf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBackgroundAudioMP3Class.html#a39c1360fd89991092b46d1405012daaf">flush</a> ()</td></tr>
<tr class="memdesc:a39c1360fd89991092b46d1405012daaf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flushes any existing raw data, resets the processor to start a new MP3.  <br /></td></tr>
<tr class="separator:a39c1360fd89991092b46d1405012daaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;class DataBuffer&gt;<br />
class BackgroundAudioMP3Class&lt; DataBuffer &gt;</div><p>Interrupt-driven MP3 decoder. Generates a full frame of samples each cycle and uses the RawBuffer to safely hand data from the app to the decompressor. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">DataBuffer</td><td>The type of raw data buffer, either normal <code><a class="el" href="classRawDataBuffer.html" title="Interrupt-safe, multicore-safe biftable buffer for libmad raw data.">RawDataBuffer</a></code> or <code><a class="el" href="classROMDataBuffer.html" title="Special-purpose buffer which never shifts memory and only allows a single written block of data,...">ROMDataBuffer</a></code> as appropriate. </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a36b57681f26747f23b26aeed38557ad7" name="a36b57681f26747f23b26aeed38557ad7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36b57681f26747f23b26aeed38557ad7">&#9670;&#160;</a></span>BackgroundAudioMP3Class()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DataBuffer &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBackgroundAudioMP3Class.html">BackgroundAudioMP3Class</a>&lt; DataBuffer &gt;<a class="el" href="classBackgroundAudioMP3Class.html">::BackgroundAudioMP3Class</a> </td>
          <td>(</td>
          <td class="paramtype">AudioOutputBase &amp;&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct an MP3 output device using the specified physical audio output. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">d</td><td>AudioOutputBase device to send data to (or AudioMixerInput) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a83d9111a763708b1085746f926114c78" name="a83d9111a763708b1085746f926114c78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83d9111a763708b1085746f926114c78">&#9670;&#160;</a></span>available()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DataBuffer &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classBackgroundAudioMP3Class.html">BackgroundAudioMP3Class</a>&lt; DataBuffer &gt;::available </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets number of bytes already in the raw buffer. </p>
<dl class="section return"><dt>Returns</dt><dd>Bytes of raw data in the buffer </dd></dl>

</div>
</div>
<a id="a15d57551d4cc68b7a2df8bddb8be9b19" name="a15d57551d4cc68b7a2df8bddb8be9b19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15d57551d4cc68b7a2df8bddb8be9b19">&#9670;&#160;</a></span>availableForWrite()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DataBuffer &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classBackgroundAudioMP3Class.html">BackgroundAudioMP3Class</a>&lt; DataBuffer &gt;::availableForWrite </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets number of bytes available to write to raw buffer. </p>
<p>For ROM buffers, this is always 0 after a write has happened. Because ROM buffers don't actually allocate any RAM for buffering and simply store the pointer passed in from <code>write</code> there is no real space available for an app to <code>write</code> to. An app can simply <code>flush</code> and <code>write</code> a new complete buffer if needed ignoring <code>availableForWrite</code> in the ROM case.</p>
<dl class="section return"><dt>Returns</dt><dd>Bytes that can be written </dd></dl>

</div>
</div>
<a id="a729ef804f54ac4b13bb9b154cfc8bcbc" name="a729ef804f54ac4b13bb9b154cfc8bcbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a729ef804f54ac4b13bb9b154cfc8bcbc">&#9670;&#160;</a></span>begin()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DataBuffer &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classBackgroundAudioMP3Class.html">BackgroundAudioMP3Class</a>&lt; DataBuffer &gt;::begin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Starts the background MP3 decoder/player. Will initialize the output device and start sending silence immediately. </p>
<dl class="section return"><dt>Returns</dt><dd>True on success, false if already started. </dd></dl>

</div>
</div>
<a id="a586ef017264cf9d372096af40377dde5" name="a586ef017264cf9d372096af40377dde5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a586ef017264cf9d372096af40377dde5">&#9670;&#160;</a></span>done()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DataBuffer &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classBackgroundAudioMP3Class.html">BackgroundAudioMP3Class</a>&lt; DataBuffer &gt;::done </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determine if no more MP3 file is present in the buffer. </p>
<dl class="section return"><dt>Returns</dt><dd>True if no raw MP3 data is still left to process </dd></dl>

</div>
</div>
<a id="a2b0d2bc456c487cbf9493ad458453c44" name="a2b0d2bc456c487cbf9493ad458453c44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b0d2bc456c487cbf9493ad458453c44">&#9670;&#160;</a></span>dumps()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DataBuffer &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classBackgroundAudioMP3Class.html">BackgroundAudioMP3Class</a>&lt; DataBuffer &gt;::dumps </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the number of full buffer dumps (catastrophic data error) since <code>begin</code> </p>
<dl class="section return"><dt>Returns</dt><dd>Number of complete buffer throw-aways </dd></dl>

</div>
</div>
<a id="a87c8518f1fddb33bd1e8253cef9a36ff" name="a87c8518f1fddb33bd1e8253cef9a36ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87c8518f1fddb33bd1e8253cef9a36ff">&#9670;&#160;</a></span>errors()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DataBuffer &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classBackgroundAudioMP3Class.html">BackgroundAudioMP3Class</a>&lt; DataBuffer &gt;::errors </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the number of decoder errors since <code>begin</code> </p>
<dl class="section return"><dt>Returns</dt><dd>Number of decode errors encountered </dd></dl>

</div>
</div>
<a id="a39c1360fd89991092b46d1405012daaf" name="a39c1360fd89991092b46d1405012daaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39c1360fd89991092b46d1405012daaf">&#9670;&#160;</a></span>flush()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DataBuffer &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classBackgroundAudioMP3Class.html">BackgroundAudioMP3Class</a>&lt; DataBuffer &gt;::flush </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flushes any existing raw data, resets the processor to start a new MP3. </p>
<p>This is only needed to abort a currently playing MP3 file (i.e. skipping a track in the middle). Multiple MP3 files can just be concatenated together in the input buffer with <code>write</code> </p>

</div>
</div>
<a id="ab4af720477afb36e7d67b806abc54d24" name="ab4af720477afb36e7d67b806abc54d24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4af720477afb36e7d67b806abc54d24">&#9670;&#160;</a></span>frames()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DataBuffer &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classBackgroundAudioMP3Class.html">BackgroundAudioMP3Class</a>&lt; DataBuffer &gt;::frames </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get number of "frames" (1152 stereo samples) processed by decoder. </p>
<dl class="section return"><dt>Returns</dt><dd>Number of frames, where frames are <code>framelen</code> stereo samples in size </dd></dl>

</div>
</div>
<a id="ae8da3e8842a6567b039988dbe4d7a604" name="ae8da3e8842a6567b039988dbe4d7a604"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8da3e8842a6567b039988dbe4d7a604">&#9670;&#160;</a></span>paused()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DataBuffer &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classBackgroundAudioMP3Class.html">BackgroundAudioMP3Class</a>&lt; DataBuffer &gt;::paused </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determine if the playback is paused. </p>
<dl class="section return"><dt>Returns</dt><dd>True of WAV playback has been paused </dd></dl>

</div>
</div>
<a id="ab0522b8f3cf21288759553056f1c16ae" name="ab0522b8f3cf21288759553056f1c16ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0522b8f3cf21288759553056f1c16ae">&#9670;&#160;</a></span>playing()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DataBuffer &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classBackgroundAudioMP3Class.html">BackgroundAudioMP3Class</a>&lt; DataBuffer &gt;::playing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determines if the MP3 decoder has been started. </p>
<dl class="section return"><dt>Returns</dt><dd>True if running </dd></dl>

</div>
</div>
<a id="a6d3549c9cf6a6130d8ab04826726aefa" name="a6d3549c9cf6a6130d8ab04826726aefa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d3549c9cf6a6130d8ab04826726aefa">&#9670;&#160;</a></span>setDevice()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DataBuffer &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classBackgroundAudioMP3Class.html">BackgroundAudioMP3Class</a>&lt; DataBuffer &gt;::setDevice </td>
          <td>(</td>
          <td class="paramtype">AudioOutputBase *&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set an output device before <code>begin</code> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">d</td><td>Pointer to <code>AudioOutputDevice</code> to send decoded data to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success </dd></dl>

</div>
</div>
<a id="a48251e99cd71b92fbf19e07102f9105d" name="a48251e99cd71b92fbf19e07102f9105d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48251e99cd71b92fbf19e07102f9105d">&#9670;&#160;</a></span>setGain()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DataBuffer &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classBackgroundAudioMP3Class.html">BackgroundAudioMP3Class</a>&lt; DataBuffer &gt;::setGain </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>scale</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the gain multiplier (volume) for the stream. Takes effect immediately. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">scale</td><td>Floating point value from 0.0....16.0 to multiply all audio data by </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a47fdbad175b575b16051d38d30969172" name="a47fdbad175b575b16051d38d30969172"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47fdbad175b575b16051d38d30969172">&#9670;&#160;</a></span>shifts()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DataBuffer &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classBackgroundAudioMP3Class.html">BackgroundAudioMP3Class</a>&lt; DataBuffer &gt;::shifts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the number of input data shifts processed by decoder since <code>begin</code> </p>
<dl class="section return"><dt>Returns</dt><dd>Number of times data has been shifted in the raw input buffer </dd></dl>

</div>
</div>
<a id="a183a9b56c823f99b6f03c503c8894d21" name="a183a9b56c823f99b6f03c503c8894d21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a183a9b56c823f99b6f03c503c8894d21">&#9670;&#160;</a></span>underflows()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DataBuffer &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classBackgroundAudioMP3Class.html">BackgroundAudioMP3Class</a>&lt; DataBuffer &gt;::underflows </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the number of times the MP3 decoder has underflowed waiting on raw data since <code>begin</code> </p>
<dl class="section return"><dt>Returns</dt><dd>Number of frames of underflow data have occurred </dd></dl>

</div>
</div>
<a id="a98a05ec8be86ce4a257766b3e2bd82c4" name="a98a05ec8be86ce4a257766b3e2bd82c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98a05ec8be86ce4a257766b3e2bd82c4">&#9670;&#160;</a></span>write()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DataBuffer &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classBackgroundAudioMP3Class.html">BackgroundAudioMP3Class</a>&lt; DataBuffer &gt;::write </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes a block of raw data to the decoder's buffer. </p>
<p>Copies up to <code>len</code> bytes into the raw buffer for the object. Can be called before <code>begin</code>, and can write less fewer than the number of bytes requested if there is not enough space. Will not block.</p>
<p>For ROM buffers this does not actually copy data, only the pointer. Therefore, for ROM buffers you cannot concatenate data by calling multiple writes because the second write will throw out all the data from the first one. Use <code>flush</code> and <code>write</code> when ready for a completely new buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Uncompressed input data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>Number of bytes to write</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes written </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="BackgroundAudioMP3_8h_source.html">BackgroundAudioMP3.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
